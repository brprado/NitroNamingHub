<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gerenciador de Nomenclatura</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="icon" type="image/png" href="assets/logo.png">
  <meta name="color-scheme" content="light dark">
</head>
<body>
  <div id="pageRoot">
  <div id="app" class="container">
    <header class="header">
      <img src="assets/logo.png" alt="Logo do sistema" style="display:block;margin:0 auto;max-height:80px;width:auto;"/>
      <br><br>
      <p  class="subtitle">Padronize nomes de campanhas (Google/YouTube) com seguran√ßa e consist√™ncia.</p>
    </header>

    <nav class="tabs">
      <button :class="{ active: activeTab==='campanhas' }" @click="activeTab='campanhas'">Campanhas</button>
      <button :class="{ active: activeTab==='anuncios' }" @click="activeTab='anuncios'">An√∫ncios</button>
    </nav>

    <main class="grid" v-if="activeTab==='campanhas'">
      <section class="card">
        <h2 class="card-title">Configura√ß√£o</h2>
        <form class="form" @submit.prevent>
          <div class="field two-col">
            <label for="siglaGestor">Sigla do Gestor</label>
            <input id="siglaGestor" type="text" v-model.trim="form.siglaGestor" @input="enforceUpper('siglaGestor')" placeholder="LP, JB..." maxlength="6" autocomplete="off">
          </div>

          <div class="field two-col">
            <label for="rede">Rede</label>
            <select id="rede" v-model="form.rede">
              <option v-for="opt in redes" :key="opt" :value="opt">{{ opt }}</option>
            </select>
          </div>

          <div class="field two-col">
            <label for="posicionamento">Posicionamento</label>
            <select id="posicionamento" v-model="form.posicionamento">
              <option v-for="opt in posicionamentos" :key="opt" :value="opt">{{ opt }}</option>
            </select>
          </div>

          <div class="field two-col">
            <label for="oferta">Oferta (c√≥digo)</label>
            <input id="oferta" type="text" v-model.trim="form.oferta" @input="enforceUpper('oferta')" placeholder="BD04, BP02..." maxlength="8" autocomplete="off">
          </div>

          <div class="field">
            <label for="nomeConta">Nome da Conta</label>
            <input id="nomeConta" type="text" v-model.trim="form.nomeConta" @input="sanitizeFree('nomeConta')" placeholder="MOLHO, CONTA PRINCIPAL..." maxlength="40" autocomplete="off">
          </div>

          <div class="field two-col">
            <label for="presell">Presell (c√≥digo)</label>
            <input id="presell" type="text" v-model.trim="form.presell" @input="enforceUpper('presell')" placeholder="PS01, PREL03" maxlength="8" autocomplete="off">
          </div>

          <div class="field vsl-group">
            <div>
              <label for="vsl">VSL</label>
              <input id="vsl" type="number" min="0" max="99" v-model.number="form.vsl" @input="padVsl('vsl')" placeholder="01">
            </div>
            <div>
              <label for="ml">ML</label>
              <input id="ml" type="number" min="0" max="99" v-model.number="form.ml" @input="padVsl('ml')" placeholder="01">
            </div>
            <div>
              <label for="l">L</label>
              <input id="l" type="number" min="0" max="99" v-model.number="form.l" @input="padVsl('l')" placeholder="01">
            </div>
          </div>

          <div class="field inline">
            <label class="switch">
              <input type="checkbox" v-model="showBrackets">
              <span class="slider"></span>
            </label>
            <span>Aplicar Colchetes []</span>
          </div>
        </form>
      </section>

      <section class="card">
        <h2 class="card-title">Pr√©-visualiza√ß√£o</h2>
        <div class="preview" :class="{ invalid: !isValid }">
          <code class="preview-text">{{ preview }}</code>
          <div class="preview-actions">
            <button class="btn" :disabled="!isValid" @click="copyToClipboard">Copiar</button>
          </div>
          <p v-if="!isValid" class="hint">Preencha os campos obrigat√≥rios e remova caracteres proibidos.</p>
        </div>

        <div class="helper">
          <h3>Template ({{ form.rede }})</h3>
          <p>Separador: <strong>-</strong></p>
          <p>Formato: <strong>[SiglaGestor] - [Rede] - [Posicionamento] - [Oferta] - [NomeDaConta] - [Presell] - [VersaoVSL]</strong></p>
          <p>Exemplo: <em>LP - Google - YT - BD04 - CONTA01 - PS01 - VSL01.ML01.L01</em></p>
        </div>
      </section>
    </main>

    <main class="grid" v-if="activeTab==='anuncios'">
      <section class="card">
        <h2 class="card-title">Configura√ß√£o de An√∫ncio</h2>
        <form class="form" @submit.prevent>
          <div class="field two-col">
            <label for="copy">Copy</label>
            <input id="copy" type="text" v-model.trim="formAds.copy" @input="enforceUpperAds('copy')" placeholder="MG, H1..." maxlength="20" autocomplete="off">
          </div>

          <div class="field two-col">
            <label for="redeTrafego">Rede de Tr√°fego</label>
            <select id="redeTrafego" v-model="formAds.redeTrafego">
              <option v-for="opt in redeTrafegoOpts" :key="opt.value" :value="opt.value">{{ opt.label }} - {{ opt.value }}</option>
            </select>
          </div>

          <div class="field two-col">
            <label for="ofertaAd">Oferta</label>
            <input id="ofertaAd" type="text" v-model.trim="formAds.oferta" @input="enforceUpperAds('oferta')" placeholder="BP02..." maxlength="12" autocomplete="off">
          </div>

          <div class="field two-col">
            <label for="adNum">AD</label>
            <input id="adNum" type="number" min="0" max="99" v-model.number="formAds.adNum" @input="padAd('adNum')" placeholder="12">
          </div>

          <div class="field two-col">
            <label for="editor">Editor (opcional)</label>
            <input id="editor" type="text" v-model.trim="formAds.editor" @input="enforceUpperAds('editor')" placeholder="MB, LP..." maxlength="12" autocomplete="off">
          </div>

          <div class="field inline">
            <label class="switch">
              <input type="checkbox" v-model="showBrackets">
              <span class="slider"></span>
            </label>
            <span>Aplicar Colchetes []</span>
          </div>
        </form>
      </section>

      <section class="card">
        <h2 class="card-title">Pr√©-visualiza√ß√£o</h2>
        <div class="preview" :class="{ invalid: !isValidAds }">
          <code class="preview-text">{{ previewAds }}</code>
          <div class="preview-actions">
            <button class="btn" :disabled="!isValidAds" @click="copyAds">Copiar</button>
          </div>
          <p v-if="!isValidAds" class="hint">Preencha os campos obrigat√≥rios e remova caracteres proibidos.</p>
        </div>

        <div class="helper">
          <h3>Template de An√∫ncio</h3>
          <p>Base: <strong>[Copy][Rede de Tr√°fego][Oferta][AD]</strong></p>
          <p>Exemplo: <em>[MG][FB][BP02][AD12]</em></p>
          <p style="margin-top:8px">Sugest√£o com editor: <strong>[Copy] - [Rede de tr√°fego] - [Oferta] - [AD] - [Editor]</strong></p>
          <p>Exemplo: <em>[MG] - [FB] - [BP02] - [AD12] - [MB]</em></p>
        </div>
      </section>
    </main>

    <footer class="footer">
      <details>
        <summary>Manual r√°pido de uso</summary>
        <ol>
          <li>Selecione a <strong>Rede</strong> e o <strong>Posicionamento</strong>.</li>
          <li>Preencha c√≥digos em <strong>MAI√öSCULAS</strong> (ex.: BD04, PS01).</li>
          <li>Evite caracteres proibidos: <code>| ; : / \ [ ] { }</code>.</li>
          <li>Use os campos VSL/ML/L para formar <code>VSL01.ML01.L01</code>.</li>
          <li>Desative o toggle para remover <strong>[colchetes]</strong> se desejar.</li>
        </ol>
      </details>
    </footer>
  </div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script src="assets/app.js"></script>
  <footer class="site-footer">Um Software 100% Nitro üöÄ ¬∑ <a href="mailto:bruno@nitrocompany.co?subject=Du%C3%ADvidas%20ou%20Sugest%C3%B5es">para d√∫vidas ou sugest√µes</a></footer>
  </div>
</body>
</html>


